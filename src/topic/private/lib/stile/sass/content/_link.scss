/**
 *
 * Link Style (SCSS)
 *
 * @author Takuto Yanagida @ Space-Time Inc.
 * @version 2018-07-27
 *
 */


@import '../basic/base';
@import '../basic/query';
@import '../basic/font';

$stile-link-color-text        : rgba(#12f, 0.9) !default;
$stile-link-color-text-visited: rgba(#609, 0.9) !default;
$stile-link-color-bg          : rgba($stile-link-color-text, 0.05) !default;
$stile-link-icon-anchor       : '\e5db' !default;
$stile-link-icon-external     : '\e0b2' !default;  // Another choice is '\e89e'


@mixin stile-link-mark {
	font-family: 'Material Icons';

	display: inline-block;
	font-style: normal;
	line-height: 1;
	@include font-bold-cancel;

	overflow: hidden;  // for removing underline on IE11
	transform: translateY(0.125rem);
	@include for-firefox { transform: translateY(0.175rem); }
}

@mixin stile-link-mark-anchor {
	content: $stile-link-icon-anchor;
	@include stile-link-mark;
}

@mixin stile-link-mark-external {
	content: $stile-link-icon-external;
	@include stile-link-mark;
}

@mixin stile-link {

	a:not([class]) {
		&[data-stile ~= 'link-simple'],
		&[href ^= 'http']:empty::before {
			text-decoration: none;
			color: $stile-link-color-text;
			word-wrap: break-word;  // for URL in text

			margin-left: 0.075rem;
			margin-right: 0.075rem;

			padding: 0.15rem 0.35rem;
			background-color: $stile-link-color-bg;
			border-radius: 0.25rem;
		}

		&[data-stile ~= 'link-simple'] {
			&:hover {
				color: $stile-link-color-text;
				text-decoration: underline;
				&::after { text-decoration: none; }
			}
			&:visited { color: $stile-link-color-text-visited; }
		}

		// Add anchor link icon
		&[data-stile ~= 'link-anchor']::after { @include stile-link-mark-anchor; }

		// Add external link icon
		&[data-stile ~= 'link-external']::after { @include stile-link-mark-external; }

		// Show url instead of empty text
		&[href ^= 'http']:empty {
			&::before {
				content: attr(href);
				word-break: break-all;
				display: inline;
			}
			&:hover::before {
				color: $stile-link-color-text;
				text-decoration: underline;
			}
			&:visited::before { color: $stile-link-color-text-visited; }
		}	
	}

	a[data-stile ~= 'link-image'] {
		> img { vertical-align: middle; }
	}
}
