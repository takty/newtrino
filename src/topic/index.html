<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://unpkg.com/mustache"></script>
	<script src="http://localhost/newtrino/topic/core/ajax.min.js"></script>
	<title>Newtrino Sample</title>
	<script type="text/html" class="template" data-target="title" data-section="#post">
		{{post.title}} - Newtrino Sample
	</script>
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const API_URL = 'http://localhost/newtrino/topic/core/ajax.php';
			NT.render(API_URL, '.template', 'rendered');
		});
	</script>
</head>

<body>
	<header>
		<h1>Newtrino Sample</h1>
		<script type="text/html" class="template" data-target="h1" data-section="#post">
			<a href="./index.html">Newtrino Sample</a>
		</script>
	</header>
	<main>
<!-- ======================================================================= -->
		<header class="entry-header">
			<script type="text/html" class="template" data-section="#posts">
				<h2>Topics</h2>
			</script>
<!-- ----------------------------------------------------------------------- -->
			<script type="text/html" class="template" data-section="#post">
{{#post}}
				{{#taxonomy.category}}
				<div class="category">{{label}}</div>
				{{/taxonomy.category}}
				<h2>{{title}}</h2>
				{{#taxonomy.$category.event}}
				<span class="event-term {{meta.event_state}}">
					Event Date: {{meta.event_date_bgn}} to {{meta.event_date_end}}
				</span>
				{{/taxonomy.$category.event}}
				{{^taxonomy.$category.event}}
				<div class="date">{{date}}</div>
				{{/taxonomy.$category.event}}
{{/post}}
			</script>
		</header>
<!-- ======================================================================= -->
		<div class="aside aside-filter">
			<script type="text/html" class="template" data-section="#posts">
				<div class="filter-date">
{{#filter.date}}
					<select onchange="document.location.href = this.value;">
						<option value="./index.html">Month</option>
						{{#month}}<option value="{{url}}" {{#current}}selected{{/current}}>{{label}}</option>{{/month}}
					</select>
{{/filter.date}}
				</div>
				<div class="filter-taxonomy">
{{#filter.taxonomy}}
					<select onchange="document.location.href = this.value;">
						<option value="./index.html">Category</option>
						{{#category}}<option value="{{url}}" {{#current}}selected{{/current}}>{{label}}</option>{{/category}}
					</select>
{{/filter.taxonomy}}
				</div>
				<div class="filter-search">
{{#filter.search}}
					<form action="./index.html" type="GET">
						<input type="text" name="search" value="{{keyword}}">
						<input type="submit" value="Search">
					</form>
{{/filter.search}}
				</div>
			</script>
		</div>
<!-- ======================================================================= -->
		<div class="entry-content">
			<script type="text/html" class="template" data-section="#posts">
				<ul id="list-item-post">
{{#posts}}
					<li class="{{status}}" id="temp-item-post">
						<a href="{{url}}">
							{{#taxonomy.category}}
							<span class="category">{{label}}</span>
							{{/taxonomy.category}}
							{{#taxonomy.$category.event}}
							<span class="event-date">Event Date: {{meta.event_date_bgn}} to {{meta.event_date_end}}</span>
							{{/taxonomy.$category.event}}
							<div class="title">{{title}}</div>
							<div class="excerpt">{{excerpt}}</div>
							<div class="date">{{date}}</div>
						</a>
					</li>
{{/posts}}
				</ul>
			</script>
<!-- ----------------------------------------------------------------------- -->
			<script type="text/html" class="template" data-section="#post">
				{{&post.content}}
			</script>
		</div>
<!-- ======================================================================= -->
		<div class="aside aside-navigation">
			<div class="post_navigation">
				<script type="text/html" class="template">
{{#navigation.post_navigation}}
					{{#previous}}<a href="{{url}}">Previous</a>{{/previous}}
					{{#next}}<a href="{{url}}">Next</a>{{/next}}
{{/navigation.post_navigation}}
				</script>
			</div>
<!-- ----------------------------------------------------------------------- -->
			<div class="pagination">
				<script type="text/html" class="template">
{{#navigation.pagination}}
					<a href="{{previous}}">Previous</a>
					<select onchange="document.location.href = this.value;">
						{{#pages}}<option value="{{url}}" {{#current}}selected{{/current}}>{{label}}</option>{{/pages}}
					</select>
					<a href="{{next}}">Next</a>
{{/navigation.pagination}}
				</script>
			</div>
		</div>
<!-- ======================================================================= -->
	</main>
</body>

</html>
